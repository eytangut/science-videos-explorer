(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2598:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eT});var r=a(5155),s=a(2115);let n=function(e,t){let a=(0,s.useCallback)(()=>{try{let a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.warn('Error reading localStorage key "'.concat(e,'":'),a),t}},[t,e]),[r,n]=(0,s.useState)(a);(0,s.useEffect)(()=>{n(a())},[]);let l=(0,s.useCallback)(t=>{try{let a=t instanceof Function?t(r):t;window.localStorage.setItem(e,JSON.stringify(a)),n(a)}catch(t){console.warn('Error setting localStorage key "'.concat(e,'":'),t)}},[e,r]);return(0,s.useEffect)(()=>{let t=t=>{t.key===e&&null!==t.newValue&&n(JSON.parse(t.newValue))};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[e]),[r,l]};var l=a(7481),i=a(9434);let o=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});o.displayName="Input";var d=a(9708),c=a(2085);let u=(0,c.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:l=!1,...o}=e,c=l?d.DX:"button";return(0,r.jsx)(c,{className:(0,i.cn)(u({variant:s,size:n,className:a})),ref:t,...o})});h.displayName="Button";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});m.displayName="Card";let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...s})});f.displayName="CardHeader";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});x.displayName="CardTitle";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});p.displayName="CardDescription";let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...s})});g.displayName="CardContent";let b=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...s})});b.displayName="CardFooter";let v="https://www.googleapis.com/youtube/v3";async function y(e,t){let a=t.startsWith("@")?t.substring(1):t.trim(),r="";r=a.startsWith("UC")&&a.length>20?"".concat(v,"/channels?part=snippet,contentDetails&id=").concat(a,"&key=").concat(e):"".concat(v,"/channels?part=snippet,contentDetails&forUsername=").concat(a,"&key=").concat(e);try{let e=await fetch(r);if(!e.ok){var s;let t=await e.json().catch(()=>({error:{message:"API request failed with status ".concat(e.status," and non-JSON response.")}}));throw console.error("Failed to fetch channel details for '".concat(a,"' using ").concat(r.split("?")[0],". Status: ").concat(e.status),t),Error((null==(s=t.error)?void 0:s.message)||"Failed to fetch channel details for '".concat(a,"': ").concat(e.statusText))}let t=await e.json();if(t.items&&t.items.length>0)return t.items[0];return console.warn("Channel not found for identifier: '".concat(a,"' using ").concat(r.split("?")[0],". API returned no items.")),null}catch(e){throw console.error("Exception during fetchChannelDetails for identifier '".concat(a,"':"),e),e}}async function j(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;try{var r,s;let n=await fetch("".concat(v,"/search?part=snippet&channelId=").concat(t,"&order=viewCount&type=video&maxResults=").concat(a,"&key=").concat(e));if(!n.ok){let e=await n.json().catch(()=>({error:{message:"API request failed with status ".concat(n.status," and non-JSON response.")}}));throw console.error("Error fetching popular videos from search:",e),Error((null==(s=e.error)?void 0:s.message)||"Failed to fetch popular videos: ".concat(n.statusText))}return(null==(r=(await n.json()).items)?void 0:r.map(e=>{var t;return null==(t=e.id)?void 0:t.videoId}).filter(e=>!!e))||[]}catch(e){throw console.error("Error in fetchChannelPopularVideoIdsFromSearch:",e),e}}async function w(e,t){if(0===t.length)return[];try{let r=await fetch("".concat(v,"/videos?part=snippet,contentDetails,statistics&id=").concat(t.join(","),"&key=").concat(e));if(!r.ok){var a;let e=await r.json();throw console.error("Error fetching video details:",e),Error((null==(a=e.error)?void 0:a.message)||"Failed to fetch video details: ".concat(r.statusText))}return(await r.json()).items||[]}catch(e){throw console.error("Error in fetchVideosDetails:",e),e}}var N=a(2720),C=a(3576),A=a(4301),k=a(7223),I=a(5452),S=a(5318);let R=I.bL,V=I.l9,E=I.ZL,T=I.bm,D=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(I.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});D.displayName=I.hJ.displayName;let P=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(E,{children:[(0,r.jsx)(D,{}),(0,r.jsxs)(I.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[s,(0,r.jsxs)(I.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(S.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});P.displayName=I.UC.displayName;let M=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};M.displayName="DialogHeader";let L=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};L.displayName="DialogFooter";let O=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(I.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});O.displayName=I.hE.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(I.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})}).displayName=I.VY.displayName;var F=a(7655);let W=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(F.bL,{ref:t,className:(0,i.cn)("relative overflow-hidden",a),...n,children:[(0,r.jsx)(F.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(K,{}),(0,r.jsx)(F.OK,{})]})});W.displayName=F.bL.displayName;let K=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...n}=e;return(0,r.jsx)(F.VM,{ref:t,orientation:s,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...n,children:(0,r.jsx)(F.lr,{className:"relative flex-1 rounded-full bg-border"})})});K.displayName=F.VM.displayName;var U=a(8271),z=a(203),_=a(3926);function Y(e){let{channels:t,onRemoveChannel:a,onReorderChannels:s,open:n,onOpenChange:l,isClientMounted:i}=e,o=(e,a)=>{"up"===a&&e>0?s(e,e-1):"down"===a&&e<t.length-1&&s(e,e+1)};return(0,r.jsxs)(R,{open:n,onOpenChange:l,children:[(0,r.jsx)(V,{asChild:!0,children:(0,r.jsxs)(h,{variant:"outline",disabled:!i,children:[(0,r.jsx)(U.A,{className:"mr-2 h-5 w-5"})," Manage Added Channels"]})}),(0,r.jsxs)(P,{className:"sm:max-w-[525px]",children:[(0,r.jsx)(M,{children:(0,r.jsx)(O,{className:"text-2xl font-headline",children:"Manage Your Channels"})}),i?0===t.length?(0,r.jsx)("p",{className:"text-muted-foreground py-4",children:"No channels added yet. Add one using the panel."}):(0,r.jsx)(W,{className:"max-h-[60vh] pr-3 my-4",children:(0,r.jsx)("ul",{className:"space-y-3",children:t.map((e,s)=>(0,r.jsxs)("li",{className:"flex items-center justify-between p-3 bg-secondary/30 rounded-md shadow",children:[(0,r.jsx)("span",{className:"truncate font-medium flex-1 mr-2",title:e.name,children:e.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(h,{variant:"ghost",size:"icon",onClick:()=>o(s,"up"),disabled:0===s,"aria-label":"Move Up",children:(0,r.jsx)(z.A,{className:"h-4 w-4"})}),(0,r.jsx)(h,{variant:"ghost",size:"icon",onClick:()=>o(s,"down"),disabled:s===t.length-1,"aria-label":"Move Down",children:(0,r.jsx)(_.A,{className:"h-4 w-4"})}),(0,r.jsx)(h,{variant:"ghost",size:"icon",onClick:()=>a(e.id),"aria-label":"Remove Channel",children:(0,r.jsx)(k.A,{className:"h-4 w-4 text-destructive"})})]})]},e.id))})}):(0,r.jsx)("p",{className:"text-muted-foreground py-4",children:"Loading channel list..."}),(0,r.jsx)(L,{children:(0,r.jsx)(T,{asChild:!0,children:(0,r.jsx)(h,{type:"button",variant:"secondary",children:"Close"})})})]})]})}function H(e){let{channels:t,onAddChannel:a,onRemoveChannel:n,onReorderChannels:i,onRefreshVideos:d,onClearCache:c,apiKey:u,onSetApiKey:b,isLoadingVideos:v,isClientMounted:j}=e,[w,I]=(0,s.useState)(""),[S,R]=(0,s.useState)(!1),[V,E]=(0,s.useState)(u),[T,D]=(0,s.useState)(!1);(0,s.useEffect)(()=>{E(u)},[u]);let P=async e=>{if(e.preventDefault(),!u.trim())return void(0,l.oR)({title:"API Key Required",description:"Please enter your YouTube Data API Key first.",variant:"destructive"});if(!w.trim())return void(0,l.oR)({title:"Channel ID Required",description:"YouTube Channel ID cannot be empty.",variant:"destructive"});R(!0);try{let e=w.trim();e.includes("youtube.com/channel/")?e=e.split("youtube.com/channel/")[1].split("/")[0].split("?")[0]:e.includes("youtube.com/@")&&(e=e.split("youtube.com/@")[1].split("/")[0].split("?")[0],(0,l.oR)({title:"Using Handle",description:'Attempting to use "'.concat(e,'" as channel identifier. For best results, use the Channel ID (starts with UC).'),variant:"default"}));let t=await y(u,e);if(!t)throw Error("Could not find channel details for ID: ".concat(e,". Please ensure it's a valid YouTube Channel ID (e.g., UC...). Custom URLs or handles may require specific API lookups."));a({id:t.id,name:t.snippet.title||"Unnamed Channel",youtubeChannelId:t.id})&&((0,l.oR)({title:"Channel Added",description:"".concat(t.snippet.title," added successfully.")}),I(""))}catch(t){console.error("Failed to add channel:",t);let e=t instanceof Error?t.message:"An unknown error occurred.";(0,l.oR)({title:"Error Adding Channel",description:e,variant:"destructive"})}finally{R(!1)}};return(0,r.jsxs)(m,{className:"w-full shadow-xl",children:[(0,r.jsx)(f,{children:(0,r.jsxs)(x,{className:"text-2xl font-headline flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Channel Setup"}),(0,r.jsx)(h,{onClick:d,variant:"ghost",size:"icon","aria-label":"Refresh Videos",title:"Refresh Videos from API",disabled:!j||v||!u||0===t.length,children:(0,r.jsx)(N.A,{className:"h-5 w-5 text-primary"})})]})}),(0,r.jsxs)(g,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"apiKeyInput",className:"block text-sm font-medium text-muted-foreground mb-1",children:"YouTube Data API Key"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(o,{id:"apiKeyInput",type:"password",placeholder:"Enter your API Key",value:V,onChange:e=>E(e.target.value),"aria-label":"YouTube API Key",disabled:!j}),(0,r.jsxs)(h,{onClick:()=>{b(V),(0,l.oR)({title:"API Key Updated",description:"Your YouTube API Key has been saved."})},"aria-label":"Save API Key",disabled:!j||!V.trim(),children:[(0,r.jsx)(C.A,{className:"mr-2 h-5 w-5"})," Save Key"]})]}),(0,r.jsxs)(p,{className:"text-xs mt-1",children:["Your API key is stored locally in your browser. ",(0,r.jsx)("a",{href:"https://developers.google.com/youtube/v3/getting-started",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"How to get an API key?"}),(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"Important:"})," Restrict your API key in Google Cloud Console (HTTP referrers & API restrictions)."]})]}),(0,r.jsxs)("form",{onSubmit:P,className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"channelIdInput",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Add YouTube Channel"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(o,{id:"channelIdInput",type:"text",placeholder:"Enter Channel ID (e.g., UC...)",value:w,onChange:e=>I(e.target.value),disabled:!j||S||!u,"aria-label":"New Channel ID"}),(0,r.jsxs)(h,{type:"submit",disabled:!j||S||!u||!w.trim(),"aria-label":"Add Channel",children:[(0,r.jsx)(A.A,{className:"mr-2 h-5 w-5"})," ",S?"Adding...":"Add"]})]}),j&&!u&&(0,r.jsx)("p",{className:"text-xs text-destructive",children:"API Key is required to add channels."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(Y,{channels:t,onRemoveChannel:n,onReorderChannels:i,open:T,onOpenChange:D,isClientMounted:j}),(0,r.jsxs)(h,{variant:"outline",onClick:c,disabled:!j||v,className:"w-full","aria-label":"Clear Video Cache",children:[(0,r.jsx)(k.A,{className:"mr-2 h-5 w-5"})," Clear Video Cache"]})]})]})]})}var J=a(6766);let q=(0,c.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function B(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,i.cn)(q({variant:a}),t),...s})}var G=a(4371),X=a(7451),Z=a(8328),Q=a(5263),$=a(7607),ee=a(4583),et=a(1737),ea=a(1840),er=a(9677);function es(e){let{video:t,onMarkAsWatched:a,isWatched:n,onToggleWatchLater:l,isWatchLater:o,onHideOnMobile:d,isMobile:c}=e,[u,p]=(0,s.useState)(!n),[v,y]=(0,s.useState)(""),j=String(t.title||"Untitled Video");return((0,s.useEffect)(()=>{try{y((0,er.m)(new Date(t.publishedDate),{addSuffix:!0}))}catch(e){console.error("Error formatting date:",e,t.publishedDate),y("Invalid date")}},[t.publishedDate]),!u&&(n||c))?null:(0,r.jsxs)(m,{className:(0,i.cn)("flex flex-col overflow-hidden shadow-lg hover:shadow-primary/50 transition-all duration-300 ease-in-out transform hover:-translate-y-1",u?"opacity-100 scale-100":"opacity-0 scale-95","bg-card border-border relative"),style:{transitionProperty:"opacity, transform, box-shadow"},children:[c&&(0,r.jsx)(h,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 z-10 h-7 w-7 bg-black/50 hover:bg-black/70 text-white hover:text-red-400",onClick:e=>{e.stopPropagation(),e.preventDefault(),p(!1),setTimeout(()=>{d(t.id,j)},300)},"aria-label":"Remove from view on mobile",title:"Remove from view on mobile",children:(0,r.jsx)(G.A,{className:"h-5 w-5"})}),(0,r.jsx)(f,{className:"p-0 relative",children:(0,r.jsx)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer","aria-label":"Watch ".concat(j," on YouTube"),children:(0,r.jsx)(J.default,{src:t.thumbnailUrl||"https://placehold.co/480x360.png?text=".concat(encodeURIComponent(j)),alt:"Thumbnail for ".concat(j),width:480,height:270,className:"w-full h-auto object-cover aspect-video","data-ai-hint":"video thumbnail"})})}),(0,r.jsxs)(g,{className:"p-4 flex-grow",children:[(0,r.jsx)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary",children:(0,r.jsx)(x,{className:"text-lg font-headline mb-2 leading-tight line-clamp-2 text-card-foreground",children:j})}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground mb-1",children:[(0,r.jsx)(X.A,{className:"h-4 w-4 mr-1.5 text-red-600"}),(0,r.jsx)("p",{className:"line-clamp-1",title:t.channelName,children:t.channelName})]}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mb-3 space-x-3",children:[(0,r.jsxs)("div",{className:"flex items-center",title:"Published date",children:[(0,r.jsx)(Z.A,{className:"h-3.5 w-3.5 mr-1"}),(0,r.jsx)("span",{children:v||"Loading time..."})]}),(0,r.jsxs)("div",{className:"flex items-center",title:"Views",children:[(0,r.jsx)(Q.A,{className:"h-3.5 w-3.5 mr-1"}),(0,r.jsxs)("span",{children:[t.views.toLocaleString()," views"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mb-1",title:"Duration",children:[(0,r.jsx)("span",{className:"mr-1",children:"⏱️"})," ",(0,r.jsxs)("span",{children:[Math.floor(t.durationSeconds/60),"m ",t.durationSeconds%60,"s"]})]}),(0,r.jsxs)(B,{variant:"secondary",className:"font-mono text-xs mt-2",title:"Calculated Rating: ".concat(t.rating.toFixed(4)),children:["Rating: ",t.rating.toFixed(2)]})]}),(0,r.jsxs)(b,{className:"p-4 pt-0 grid grid-cols-2 gap-2 items-center",children:[(0,r.jsxs)(h,{onClick:()=>{p(!1),setTimeout(()=>{a(t.id)},300)},variant:"outline",size:"sm",className:"w-full",children:[(0,r.jsx)($.A,{className:"mr-2 h-4 w-4"})," Watched"]}),(0,r.jsxs)(h,{onClick:()=>{l(t.id,j)},variant:o?"secondary":"outline",size:"sm",className:"w-full",children:[o?(0,r.jsx)(ee.A,{className:"mr-2 h-4 w-4"}):(0,r.jsx)(et.A,{className:"mr-2 h-4 w-4"}),o?"Unlist":"Later"]}),(0,r.jsx)(h,{asChild:!0,variant:"default",size:"sm",className:"col-span-2 w-full",children:(0,r.jsxs)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",children:["Watch on ",(0,r.jsx)(X.A,{className:"ml-2 h-4 w-4"}),(0,r.jsx)(ea.A,{className:"ml-1 h-3 w-3"})]})})]})]})}var en=a(1133),el=a(7648),ei=a(3587);let eo=(0,c.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ed=s.forwardRef((e,t)=>{let{className:a,variant:s,...n}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(eo({variant:s}),a),...n})});ed.displayName="Alert";let ec=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...s})});ec.displayName="AlertTitle";let eu=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...s})});eu.displayName="AlertDescription";var eh=a(764),em=a(9556),ef=a(7381),ex=a(518);let ep=eh.bL;eh.YJ;let eg=eh.WT,eb=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(eh.l9,{ref:t,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[s,(0,r.jsx)(eh.In,{asChild:!0,children:(0,r.jsx)(em.A,{className:"h-4 w-4 opacity-50"})})]})});eb.displayName=eh.l9.displayName;let ev=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(eh.PP,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(ef.A,{className:"h-4 w-4"})})});ev.displayName=eh.PP.displayName;let ey=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(eh.wn,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(em.A,{className:"h-4 w-4"})})});ey.displayName=eh.wn.displayName;let ej=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...l}=e;return(0,r.jsx)(eh.ZL,{children:(0,r.jsxs)(eh.UC,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...l,children:[(0,r.jsx)(ev,{}),(0,r.jsx)(eh.LM,{className:(0,i.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(ey,{})]})})});ej.displayName=eh.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(eh.JU,{ref:t,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=eh.JU.displayName;let ew=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(eh.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(eh.VF,{children:(0,r.jsx)(ex.A,{className:"h-4 w-4"})})}),(0,r.jsx)(eh.p4,{children:s})]})});ew.displayName=eh.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(eh.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=eh.wv.displayName;let eN=[{value:"all",label:"All Durations"},{value:"short",label:"< 10 min"},{value:"medium",label:"10-30 min"},{value:"long",label:"> 30 min"}],eC=[{value:"all",label:"All Videos"},{value:"watchLaterOnly",label:"Watch Later Only"},{value:"notWatchLater",label:"Not Watch Later"}];function eA(e){let{videos:t,onMarkAsWatched:a,watchedVideoIds:s,isLoading:n,error:l,hasChannels:i,apiKeyIsSet:o,durationFilter:d,onDurationFilterChange:c,watchLaterFilter:u,onWatchLaterFilterChange:h,stats:m,onToggleWatchLater:f,watchLaterVideoIds:x,onHideOnMobile:p,isMobile:g,isClientMounted:b}=e;return!b||n?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 p-6",children:Array.from({length:8}).map((e,t)=>(0,r.jsxs)("div",{className:"bg-card p-4 rounded-lg shadow-lg animate-pulse",children:[(0,r.jsx)("div",{className:"aspect-video bg-secondary rounded mb-4"}),(0,r.jsx)("div",{className:"h-4 bg-secondary rounded w-3/4 mb-2"}),(0,r.jsx)("div",{className:"h-3 bg-secondary rounded w-1/2 mb-2"}),(0,r.jsx)("div",{className:"h-3 bg-secondary rounded w-1/4"})]},t))}):l?(0,r.jsxs)(ed,{variant:"destructive",className:"m-6",children:[(0,r.jsx)(en.A,{className:"h-4 w-4"}),(0,r.jsx)(ec,{children:"Error Fetching Videos"}),(0,r.jsx)(eu,{className:"whitespace-pre-line",children:l})]}):!o&&i?null:!i&&o?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[(0,r.jsx)(X.A,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-headline mb-2",children:"No Channels Added"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Add some YouTube channels using their Channel ID to see videos here."})]}):(0,r.jsxs)(W,{className:"h-full",children:[(0,r.jsxs)("div",{className:"p-4 md:p-6 space-y-4 sticky top-0 bg-background z-10 border-b border-border",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-center",children:[(0,r.jsxs)(ep,{value:d,onValueChange:e=>c(e),children:[(0,r.jsxs)(eb,{className:"w-full sm:w-[160px] text-sm","aria-label":"Filter by duration",children:[(0,r.jsx)(el.A,{className:"h-4 w-4 mr-1 text-muted-foreground inline-block"}),(0,r.jsx)(eg,{placeholder:"Duration..."})]}),(0,r.jsx)(ej,{children:eN.map(e=>(0,r.jsx)(ew,{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)(ep,{value:u,onValueChange:e=>h(e),children:[(0,r.jsxs)(eb,{className:"w-full sm:w-[180px] text-sm","aria-label":"Filter by watch later status",children:[(0,r.jsx)(ei.A,{className:"h-4 w-4 mr-1 text-muted-foreground inline-block"}),(0,r.jsx)(eg,{placeholder:"Watch Later..."})]}),(0,r.jsx)(ej,{children:eC.map(e=>(0,r.jsx)(ew,{value:e.value,children:e.label},e.value))})]})]}),o&&i&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground flex flex-wrap gap-x-4 gap-y-1",children:[(0,r.jsxs)("span",{children:["Videos Displayed: ",m.totalUnwatched]}),m.totalUnwatched>0&&(0,r.jsxs)("span",{children:["Avg. Views: ",m.averageRating]})]})]}),0===t.length&&i&&o&&!n&&(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 p-6 text-center",children:[(0,r.jsx)(en.A,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-headline mb-2",children:"All Caught Up or No Matches!"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"No videos match your current filters, or all have been watched/hidden."})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-6 gap-y-8 p-6",children:t.map(e=>(0,r.jsx)(es,{video:e,onMarkAsWatched:a,isWatched:s.includes(e.id),onToggleWatchLater:f,isWatchLater:x.includes(e.id),onHideOnMobile:p,isMobile:g},"".concat(e.channelId,"-").concat(e.id)))})]})}var ek=a(1949);class eI extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({errorInfo:t})}render(){if(this.state.hasError){var e;return this.props.fallback?this.props.fallback:(0,r.jsxs)("div",{className:"p-4 m-4 border border-destructive bg-destructive/10 text-destructive-foreground rounded-md flex flex-col items-center justify-center min-h-[200px]",children:[(0,r.jsx)(ek.A,{className:"w-12 h-12 text-destructive mb-4"}),(0,r.jsx)("h2",{className:"font-bold text-xl mb-2",children:"Oops! Something Went Wrong"}),(0,r.jsx)("p",{className:"text-sm mb-1",children:"We encountered an error trying to display this part of the page."}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"Try refreshing, or check the console for more details."}),this.state.error&&(0,r.jsxs)("details",{className:"w-full max-w-md text-left bg-background/50 p-2 rounded border border-destructive/50",children:[(0,r.jsx)("summary",{className:"cursor-pointer text-xs font-medium",children:"Error Details"}),(0,r.jsxs)("pre",{className:"mt-2 text-xs whitespace-pre-wrap overflow-auto max-h-48",children:[this.state.error.message,(null==(e=this.state.errorInfo)?void 0:e.componentStack)&&"\n\nComponent Stack:\n".concat(this.state.errorInfo.componentStack),this.state.error.stack&&"\n\nFull Stack:\n".concat(this.state.error.stack)]})]}),(0,r.jsx)(h,{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"mt-4",variant:"outline",children:"Try to reload this section"})]})}return this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}}var eS=a(7489);let eR=s.forwardRef((e,t)=>{let{className:a,orientation:s="horizontal",decorative:n=!0,...l}=e;return(0,r.jsx)(eS.b,{ref:t,decorative:n,orientation:s,className:(0,i.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",a),...l})});eR.displayName=eS.b.displayName;var eV=a(594);function eE(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",t),...a})}function eT(){let{channels:e,addChannel:t,removeChannel:a,reorderChannels:i}=function(){let[e,t]=n("youtubeChannels",[]);return{channels:e,addChannel:a=>e.find(e=>e.id===a.id)?((0,l.oR)({title:"Channel exists",description:"".concat(a.name," is already in your list."),variant:"default"}),!1):(t(e=>[...e,a]),!0),removeChannel:e=>{t(t=>t.filter(t=>t.id!==e)),(0,l.oR)({title:"Channel Removed",description:"The channel has been removed from your list."})},reorderChannels:(e,a)=>{t(t=>{let r=Array.from(t),[s]=r.splice(e,1);return r.splice(a,0,s),r})},setChannels:t}}(),{watchedVideoIds:o,addWatchedVideo:d,isVideoWatched:c}=function(){let[e,t]=n("watchedVideoIds",[]);return{watchedVideoIds:e,addWatchedVideo:a=>{e.includes(a)||t(e=>[...e,a])},isVideoWatched:t=>e.includes(t)}}(),{watchLaterVideoIds:u,toggleWatchLater:h,isVideoWatchLater:p}=function(){let[e,t]=n("watchLaterVideoIds",[]);return{watchLaterVideoIds:e,toggleWatchLater:(e,a)=>{t(t=>t.includes(e)?((0,l.oR)({title:"Removed from Watch Later",description:'"'.concat(a,'" removed.')}),t.filter(t=>t!==e)):((0,l.oR)({title:"Added to Watch Later",description:'"'.concat(a,'" added.')}),[...t,e]))},isVideoWatchLater:t=>e.includes(t)}}(),{hiddenOnMobileVideoIds:b,addHiddenOnMobileVideo:v,isVideoHiddenOnMobile:y}=function(){let[e,t]=n("hiddenOnMobileVideoIds",[]);return{hiddenOnMobileVideoIds:e,addHiddenOnMobileVideo:(a,r)=>{e.includes(a)||(t(e=>[...e,a]),(0,l.oR)({title:"Video Hidden on Mobile",description:'"'.concat(r,'" will be hidden on this mobile device.')}))},isVideoHiddenOnMobile:t=>e.includes(t),clearHiddenOnMobileVideos:()=>{t([]),(0,l.oR)({title:"Mobile Hidden Videos Cleared",description:"All videos previously hidden on mobile will now be shown."})}}}(),N=function(){let[e,t]=s.useState(void 0);return s.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[C,A]=n("allVideosCache",[]),[k,I]=n("shuffledVideoIds",[]),[S,R]=(0,s.useState)(!1),[V,E]=(0,s.useState)(null),[T,D]=n("youtubeApiKey",""),[P,M]=(0,s.useState)("all"),[L,O]=(0,s.useState)("all"),[F,W]=(0,s.useState)(!1),[K,U]=(0,s.useState)(!1),z=(0,s.useRef)(void 0);(0,s.useEffect)(()=>{W(!0)},[]),(0,s.useEffect)(()=>{F&&(z.current=JSON.stringify(e.map(e=>e.id).sort()))},[F,e]);let _=(0,s.useCallback)(async(e,t)=>{if(!t)throw Error("API Key is not set. Please configure it in the Channel Setup panel.");let a=await j(t,e.youtubeChannelId,20);return 0===a.length?[]:(await w(t,a)).map(e=>{var t,a;if(!e||!e.id||!e.snippet||!e.contentDetails||!e.statistics)return console.warn("Skipping video with incomplete details:",e),null;let r=function(e){let t;if(!e||!e.startsWith("PT"))return 0;let a=e.substring(2),r=0,s=/(\d+)([HMS])/g;for(;null!==(t=s.exec(a));){let e=parseInt(t[1],10),a=t[2];"H"===a?r+=3600*e:"M"===a?r+=60*e:"S"===a&&(r+=e)}return r}(e.contentDetails.duration),s=parseInt(e.statistics.viewCount,10)||0;return{id:e.id,title:e.snippet.title,link:"https://www.youtube.com/watch?v=".concat(e.id),thumbnailUrl:(null==(t=e.snippet.thumbnails.medium)?void 0:t.url)||(null==(a=e.snippet.thumbnails.standard)?void 0:a.url)||"https://placehold.co/480x360.png?text=".concat(encodeURIComponent(e.snippet.title)),publishedDate:e.snippet.publishedAt,views:s,channelName:e.snippet.channelTitle,channelId:e.snippet.channelId,rating:s,durationSeconds:r}}).filter(e=>null!==e)},[]),Y=(0,s.useCallback)((e,t)=>{try{let a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(e){return t}},[]),J=(0,s.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;if(!F)return;if(!a){E("YouTube API Key is not set. Please add it in the Channel Setup panel to fetch videos."),R(!1);return}if(0===e.length){A([]),E(null),R(!1);return}R(!0),E(null);let r=Y("allVideosCache",[]);if(t||0===r.length)try{let t=e.map(e=>_(e,a)),r=await Promise.allSettled(t),s=[],n=!1;r.forEach((t,a)=>{if("fulfilled"===t.status)s.push(...t.value);else{console.error("Error fetching videos for ".concat(e[a].name,":"),t.reason);let r=t.reason instanceof Error?t.reason.message:String(t.reason);E(t=>t?"".concat(t,"\nCould not load videos for ").concat(e[a].name,": ").concat(r):"Could not load videos for ".concat(e[a].name,": ").concat(r)),n=!0}}),0===s.length&&n&&e.length>0||0===s.length&&e.length>0&&!n&&(0,l.oR)({title:"No Videos Found",description:"The selected channels might not have any videos, or all videos are shorter than 3 minutes."});let i=Array.from(new Map(s.map(e=>[e.id,e])).values()).filter(e=>e.durationSeconds>180);A(i),U(!0)}catch(e){console.error("Error aggregating videos:",e),E(e instanceof Error?e.message:"An unknown error occurred during video aggregation."),A([])}finally{R(!1)}else R(!1)},[T,e,_,F,A,R,E,Y]);(0,s.useEffect)(()=>{F&&T&&e.length>0&&0===C.length&&!S&&J(!1)},[F,T,e,C.length,J,S]);let q=(0,s.useCallback)(()=>{if(!F||!Array.isArray(C)||!Array.isArray(e))return;if(0===e.length||0===C.length&&!S){k.length>0&&I([]);return}if(0===C.length&&S)return;let t=C.filter(t=>e.some(e=>e.youtubeChannelId===t.channelId)),a=new Map;for(let e of t)a.has(e.channelId)||a.set(e.channelId,[]),a.get(e.channelId).push(e);let r=[],s=e.map(e=>e.youtubeChannelId),n=new Map(s.map(e=>[e,0])),l=!0;for(;l;)for(let e of(l=!1,s)){let t=a.get(e),s=n.get(e)||0;t&&s<t.length&&(r.push(t[s]),n.set(e,s+1),l=!0)}I((function(e){if(!e||0===e.length)return[];let t=[...e];for(let e=t.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t})(r).map(e=>e.id))},[F,C,e,S,k.length,I]);(0,s.useEffect)(()=>{if(!F||S)return;let t=JSON.stringify(e.map(e=>e.id).sort()),a=void 0!==z.current&&z.current!==t,r=C.length>0&&0===k.length&&!K;if(0===e.length){k.length>0&&I([]),z.current=t;return}(a||K||r)&&(q(),a&&(z.current=t),K&&U(!1))},[F,C,e,S,k.length,K,q,I,U]);let B=(0,s.useMemo)(()=>{if(!F||!Array.isArray(C)||!Array.isArray(k)||!Array.isArray(e)||0===C.length||0===e.length||0===k.length&&C.length>0&&!S)return[];let t=new Map(C.map(e=>[e.id,e])),a=k.map(e=>t.get(e)).filter(e=>void 0!==e);return a=(a=a.filter(t=>e.some(e=>e.youtubeChannelId===t.channelId))).filter(e=>!c(e.id)),N&&(a=a.filter(e=>!y(e.id))),"all"!==P&&(a=a.filter(e=>{let t=e.durationSeconds;return"short"===P?t<600:"medium"===P?t>=600&&t<=1800:"long"!==P||t>1800})),"watchLaterOnly"===L?a=a.filter(e=>p(e.id)):"notWatchLater"===L&&(a=a.filter(e=>!p(e.id))),a},[F,C,k,e,o,c,N,b,y,P,L,u,p,S]),G=(0,s.useMemo)(()=>{if(!F)return{totalUnwatched:0,averageRating:"0"};let e=B.length,t=e>0?B.reduce((e,t)=>e+t.rating,0)/e:0;return{totalUnwatched:e,averageRating:t.toFixed(0)}},[B,F]),Z=()=>{if(!T)return void(0,l.oR)({title:"API Key Required",description:"Please set your YouTube API Key before refreshing.",variant:"destructive"});(0,l.oR)({title:"Refreshing Videos...",description:"Fetching the latest popular videos from all channels."}),J(!0)},Q=()=>{A([]),I([]),(0,l.oR)({title:"Video Cache Cleared",description:"Local video cache has been emptied."}),T&&e.length>0?J(!0):!T&&e.length>0?E("API Key is not set. Please add it to fetch videos."):E(null)},$=t=>{D(t),t&&e.length>0?J(!0,t):!t&&e.length>0?E("API Key removed. Videos are shown from cache. Set API Key to fetch new videos."):t&&0===e.length&&E(null)};return F?T||0!==e.length?(0,r.jsx)(eI,{fallback:(0,r.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center bg-background text-destructive p-4 text-center",children:[(0,r.jsx)(en.A,{className:"h-12 w-12 text-destructive mb-4"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-bold text-xl mb-2",children:"Application Error"}),(0,r.jsx)("p",{className:"text-sm",children:"Something went wrong. Please try refreshing the page."})]})]}),children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row min-h-screen bg-background text-foreground",children:[(0,r.jsx)("header",{className:"md:hidden p-4 border-b border-border sticky top-0 bg-background z-10",children:(0,r.jsx)("h1",{className:"text-3xl font-headline text-primary",children:"Science Video Viewer"})}),(0,r.jsxs)("aside",{className:"w-full md:w-[380px] lg:w-[420px] p-4 md:p-6 border-r border-border md:min-h-screen md:sticky md:top-0 shrink-0",children:[(0,r.jsxs)("div",{className:"hidden md:block mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-headline text-primary",children:"Science Video Viewer"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Discover and rank science content from YouTube."})]}),(0,r.jsx)(H,{channels:e,onAddChannel:e=>{let a=t(e);return a&&U(!0),a},onRemoveChannel:e=>{a(e),U(!0)},onReorderChannels:(e,t)=>{i(e,t),U(!0)},onRefreshVideos:Z,onClearCache:Q,apiKey:T,onSetApiKey:$,isLoadingVideos:S,isClientMounted:F})]}),(0,r.jsx)(eR,{orientation:"vertical",className:"hidden md:block h-auto sticky top-0"}),(0,r.jsxs)("main",{className:"flex-1 md:overflow-y-auto",children:[F&&!T&&e.length>0&&(0,r.jsxs)(ed,{variant:"default",className:"m-6 bg-primary/10 border-primary/30",children:[(0,r.jsx)(eV.A,{className:"h-4 w-4 text-primary"}),(0,r.jsx)(ec,{className:"text-primary",children:"API Key Needed"}),(0,r.jsx)(eu,{children:'Please set your YouTube Data API Key in the "Channel Setup" panel on the left to fetch videos. Videos shown are from local cache.'})]}),(0,r.jsx)(eA,{videos:B,onMarkAsWatched:d,watchedVideoIds:o,isLoading:S&&!!T,error:V,hasChannels:e.length>0,apiKeyIsSet:!!T,durationFilter:P,onDurationFilterChange:M,watchLaterFilter:L,onWatchLaterFilterChange:O,stats:G,onToggleWatchLater:h,watchLaterVideoIds:u,onHideOnMobile:v,isMobile:N,isClientMounted:F})]})]})}):(0,r.jsxs)("div",{className:"flex flex-col md:flex-row min-h-screen bg-background text-foreground",children:[(0,r.jsx)("header",{className:"md:hidden p-4 border-b border-border sticky top-0 bg-background z-10",children:(0,r.jsx)("h1",{className:"text-3xl font-headline text-primary",children:"Science Video Viewer"})}),(0,r.jsxs)("aside",{className:"w-full md:w-[380px] lg:w-[420px] p-4 md:p-6 border-r border-border md:min-h-screen md:sticky md:top-0 shrink-0",children:[(0,r.jsxs)("div",{className:"hidden md:block mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-headline text-primary",children:"Science Video Viewer"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Discover and rank science content from YouTube."})]}),(0,r.jsx)(H,{channels:e,onAddChannel:e=>{let a=t(e);return a&&U(!0),a},onRemoveChannel:e=>{a(e),U(!0)},onReorderChannels:(e,t)=>{i(e,t),U(!0)},onRefreshVideos:Z,onClearCache:Q,apiKey:T,onSetApiKey:$,isLoadingVideos:S,isClientMounted:F})]}),(0,r.jsx)(eR,{orientation:"vertical",className:"hidden md:block h-auto sticky top-0"}),(0,r.jsxs)("main",{className:"flex-1 md:overflow-y-auto flex flex-col items-center justify-center p-6 text-center",children:[(0,r.jsx)(X.A,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-headline mb-2",children:"Welcome to Science Video Viewer!"}),(0,r.jsx)("p",{className:"text-muted-foreground max-w-md",children:"To get started, please add your YouTube Data API Key and then some of your favorite science YouTube channels using the panel on the left."})]})]}):(0,r.jsxs)("div",{className:"flex flex-col md:flex-row min-h-screen bg-background text-foreground",children:[(0,r.jsx)("header",{className:"md:hidden p-4 border-b border-border sticky top-0 bg-background z-10",children:(0,r.jsx)("h1",{className:"text-3xl font-headline text-primary",children:"Science Video Viewer"})}),(0,r.jsxs)("aside",{className:"w-full md:w-[380px] lg:w-[420px] p-4 md:p-6 border-r border-border md:min-h-screen md:sticky md:top-0 shrink-0",children:[(0,r.jsxs)("div",{className:"hidden md:block mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-headline text-primary",children:"Science Video Viewer"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Discover and rank science content from YouTube."})]}),(0,r.jsxs)(m,{className:"w-full shadow-xl",children:[(0,r.jsx)(f,{children:(0,r.jsx)(x,{children:"Channel Setup"})}),(0,r.jsxs)(g,{children:[(0,r.jsx)(eE,{className:"h-8 w-full mb-2"}),(0,r.jsx)(eE,{className:"h-8 w-full"})]})]})]}),(0,r.jsx)(eR,{orientation:"vertical",className:"hidden md:block h-auto sticky top-0"}),(0,r.jsxs)("main",{className:"flex-1 md:overflow-y-auto",children:[(0,r.jsxs)("div",{className:"p-4 md:p-6 space-y-4 sticky top-0 bg-background z-10 border-b border-border",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-center",children:[(0,r.jsx)(eE,{className:"h-10 w-full sm:w-[150px]"}),(0,r.jsx)(eE,{className:"h-10 w-full sm:w-[160px]"}),(0,r.jsx)(eE,{className:"h-10 w-full sm:w-[180px]"})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground flex flex-wrap gap-x-4 gap-y-1",children:[(0,r.jsx)(eE,{className:"h-4 w-24"}),(0,r.jsx)(eE,{className:"h-4 w-20"})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 p-6",children:Array.from({length:8}).map((e,t)=>(0,r.jsxs)("div",{className:"bg-card p-4 rounded-lg shadow-lg animate-pulse",children:[(0,r.jsx)(eE,{className:"aspect-video rounded mb-4"}),(0,r.jsx)(eE,{className:"h-4 w-3/4 mb-2"}),(0,r.jsx)(eE,{className:"h-3 w-1/2 mb-2"}),(0,r.jsx)(eE,{className:"h-3 w-1/4"})]},t))})]})]})}},2751:(e,t,a)=>{Promise.resolve().then(a.bind(a,2598))},7481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>h,oR:()=>u});var r=a(2115);let s=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function h(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(2596),s=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[774,112,441,684,358],()=>t(2751)),_N_E=e.O()}]);